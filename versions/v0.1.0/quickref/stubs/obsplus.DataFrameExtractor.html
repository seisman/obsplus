

<!doctype html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>obsplus.DataFrameExtractor &#8212; ObsPlus v0.1.0+0.gae64b2d.dirty documentation</title>
    <link rel="stylesheet" href="../../_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />

    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../../_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">ObsPlus</a> &#187;</li>
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/obsplus_panda.png" alt="Logo"/>
            </a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/quickref/stubs/obsplus.DataFrameExtractor.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">

  <div class="section" id="obsplus-dataframeextractor">
<h1>obsplus.DataFrameExtractor<a class="headerlink" href="#obsplus-dataframeextractor" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="obsplus.DataFrameExtractor">
<em class="property">class </em><code class="sig-prename descclassname">obsplus.</code><code class="sig-name descname">DataFrameExtractor</code><span class="sig-paren">(</span><em class="sig-param">cls</em>, <em class="sig-param">required_columns=None</em>, <em class="sig-param">dtypes=None</em>, <em class="sig-param">pass_dataframe=True</em>, <em class="sig-param">column_funcs=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/obsplus/structures/dfextractor.html#DataFrameExtractor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#obsplus.DataFrameExtractor" title="Permalink to this definition">¶</a></dt>
<dd><p>A class to extract dataframes from nested object trees.</p>
<p>Generally used to construct summary dataframes from nested object
structures such as the obspy Catalog.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cls</strong> – The top-level class the extractor acts on.</p></li>
<li><p><strong>required_columns</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]]) – If not None, assert required columns are in dataframe, and order
columns the same as required_columns, with extra columns at the end.</p></li>
<li><p><strong>dtypes</strong> – A dict of {column name: required data type}. Can also be specified
when registering extractors.</p></li>
<li><p><strong>pass_dataframe</strong> – If True, return dataframes passed to DataFrameExtractor.__call__.
This allows the DataFrameExtractor to be idempotent.</p></li>
<li><p><strong>column_funcs</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Mapping</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code>], <code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Series</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]]]]) – Columns that are UTCDateTime objects. Will correctly handle
UTCDateTime-able objects (like date-time strings, floats, etc).</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="obsplus.DataFrameExtractor.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">cls</em>, <em class="sig-param">required_columns=None</em>, <em class="sig-param">dtypes=None</em>, <em class="sig-param">pass_dataframe=True</em>, <em class="sig-param">column_funcs=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/obsplus/structures/dfextractor.html#DataFrameExtractor.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#obsplus.DataFrameExtractor.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#obsplus.DataFrameExtractor.__init__" title="obsplus.DataFrameExtractor.__init__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code></a>(cls[, required_columns, dtypes, …])</p></td>
<td><p>Initialize self.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">clear</span></code>(self)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#obsplus.DataFrameExtractor.copy" title="obsplus.DataFrameExtractor.copy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">copy</span></code></a>()</p></td>
<td><p>Return a deep copy of the fetcher.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#obsplus.DataFrameExtractor.extractor" title="obsplus.DataFrameExtractor.extractor"><code class="xref py py-obj docutils literal notranslate"><span class="pre">extractor</span></code></a>([dtypes])</p></td>
<td><p>Register an extractor.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">fromkeys</span></code>(iterable[, value])</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get</span></code>(self, key[, default])</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">items</span></code>(self)</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">keys</span></code>(self)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">pop</span></code>(self, key[, default])</p></td>
<td><p>If key is not found, d is returned if given, otherwise KeyError is raised.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">popitem</span></code>(self)</p></td>
<td><p>as a 2-tuple; but raise KeyError if D is empty.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#obsplus.DataFrameExtractor.register" title="obsplus.DataFrameExtractor.register"><code class="xref py py-obj docutils literal notranslate"><span class="pre">register</span></code></a>(self, cls)</p></td>
<td><p>Registers an alternate constructor.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">setdefault</span></code>(self, key[, default])</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">update</span></code>(\*args, \*\*kwds)</p></td>
<td><p>If E present and has a .keys() method, does:     for k in E: D[k] = E[k] If E present and lacks .keys() method, does:     for (k, v) in E: D[k] = v In either case, this is followed by: for k, v in F.items(): D[k] = v</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">values</span></code>(self)</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#obsplus.DataFrameExtractor.dtypes" title="obsplus.DataFrameExtractor.dtypes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dtypes</span></code></a></p></td>
<td><p>return a dictionary of datatypes.</p></td>
</tr>
</tbody>
</table>
<dl class="exception">
<dt id="obsplus.DataFrameExtractor.SkipRow">
<em class="property">exception </em><code class="sig-name descname">SkipRow</code><a class="reference internal" href="../../_modules/obsplus/structures/dfextractor.html#DataFrameExtractor.SkipRow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#obsplus.DataFrameExtractor.SkipRow" title="Permalink to this definition">¶</a></dt>
<dd><p>exception to raise to skip a row.</p>
</dd></dl>

<dl class="method">
<dt id="obsplus.DataFrameExtractor.copy">
<code class="sig-name descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/obsplus/structures/dfextractor.html#DataFrameExtractor.copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#obsplus.DataFrameExtractor.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a deep copy of the fetcher.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="../../api/obsplus.structures.dfextractor.html#obsplus.structures.dfextractor.DataFrameExtractor" title="obsplus.structures.dfextractor.DataFrameExtractor"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrameExtractor</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="obsplus.DataFrameExtractor.dtypes">
<em class="property">property </em><code class="sig-name descname">dtypes</code><a class="headerlink" href="#obsplus.DataFrameExtractor.dtypes" title="Permalink to this definition">¶</a></dt>
<dd><p>return a dictionary of datatypes.</p>
</dd></dl>

<dl class="method">
<dt id="obsplus.DataFrameExtractor.extractor">
<code class="sig-name descname">extractor</code><span class="sig-paren">(</span><em class="sig-param">dtypes=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/obsplus/structures/dfextractor.html#DataFrameExtractor.extractor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#obsplus.DataFrameExtractor.extractor" title="Permalink to this definition">¶</a></dt>
<dd><p>Register an extractor.</p>
<p>An extractor is a function which extracts values from instances of a
class. It should either return a dict of {column names: values} or
a single value and the name of the function (minus <a href="#id1"><span class="problematic" id="id2">get_</span></a> prefix if
one exists) will be the column name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dtypes</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">type</span></code>]]) – A dict of {column name: dtype} to enforce a schema on the data.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="obsplus.DataFrameExtractor.register">
<code class="sig-name descname">register</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">cls</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/obsplus/structures/dfextractor.html#DataFrameExtractor.register"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#obsplus.DataFrameExtractor.register" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers an alternate constructor.</p>
<p>Registers an alternate constructor that is called when the input is
not an instance of the expected class. This is useful, for examples to
make the DataFrameExtractor idempotent or to default to various read
methods in a path/str is passed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cls</strong> – The dtype to register</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">ObsPlus</a> &#187;</li>
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, Derrick Chambers.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.4.4.
    </div>
  </body>
</html>
